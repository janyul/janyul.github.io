<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ìºë¦­í„° ì¸í„°ë™ì…˜</title>
  <style>
    body {
      background: white;
      margin: 0;
      height: 100vh;
      overflow: hidden;
      font-family: "Courier New", monospace;
    }
    



    /* ìºë¦­í„° í¬ê¸° ì¶•ì†Œ */
    #character {
      width: 90px;   /* ì›ë˜ 220px â†’ ë” ì‘ê²Œ */
      cursor: pointer;
      user-select: none;
      display: block;
      position: fixed;
      right: 80px;   /* í™”ë©´ ì˜¤ë¥¸ìª½ì—ì„œ ë„ìš°ëŠ” ì •ë„ */
      bottom: 40px;
    }

    /* ìŠ¤ìœ„ì¹˜ í¬ê¸° ì¶•ì†Œ ë° ìºë¦­í„° ì˜¤ë¥¸ìª½ ë°°ì¹˜ */
    #switch {
      width: 35px;    /* ë” ì‘ê²Œ */
      margin-left: 130px; /* ìºë¦­í„° ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ */
      margin-top: -150px; /* ìœ„ë¡œ ë‹¹ê²¨ì„œ ì˜†ì— ë”± ë¶™ê²Œ */
      cursor: pointer;
      opacity: 0.7;
      position: fixed;
      right: 30px;   /* í™”ë©´ ì˜¤ë¥¸ìª½ì—ì„œ ë„ìš°ëŠ” ì •ë„ */
      bottom: 150px;
      opacity: 0.5;            /* ë¹„í™œì„±í™” ëŠë‚Œ */
      cursor: default;         /* í´ë¦­ ë¶ˆê°€ ì»¤ì„œ */
      pointer-events: none;    /* í´ë¦­ ì•ˆ ë¨ */
    }

    /* í…ìŠ¤íŠ¸ëŠ” ìºë¦­í„° ì™¼í¸ì— ëœ¨ë„ë¡ */
    #text-box {
      position: absolute;
      right: 200px;      /* ìºë¦­í„° ì™¼ìª½ */
      bottom: 120px;
      font-size: 12px;
      line-height: 26px;
      white-space: pre-line;
      text-align: right;
    }

  </style>
</head>
<body>

  <div class="wrap">
    <img id="character" src="character.png" alt="ìºë¦­í„°">
    <img id="switch" src="switch.png" alt="ìŠ¤ìœ„ì¹˜">

    <div id="text-box"></div>
  </div>

  <script>
    // ìºë¦­í„° í´ë¦­ ì‹œ ë‚˜ì˜¬ ë¬¸ì¥ë“¤
    const messages = [
      "- hi -",
      "- my name is mr. -",
      "- u can click that switch -"
    ];

    let index = 0;
    let switchUnlocked = false;


    const textBox = document.getElementById("text-box");
    const character = document.getElementById("character");
    const switchBtn = document.getElementById("switch");

    // íƒ€ìê¸° íš¨ê³¼ í•¨ìˆ˜
    function typeLine(text, callback) {
      let charIndex = 0;

      function typeChar() {
        if (charIndex < text.length) {
          textBox.innerHTML += text.charAt(charIndex);
          charIndex++;
          setTimeout(typeChar, 40);
        } else {
          textBox.innerHTML += "\n";
          if (callback) callback();
        }
      }

      typeChar();
    }

    // ìºë¦­í„° í´ë¦­ ì‹œ ë¬¸ì¥ í•˜ë‚˜ì”© íƒ€ìê¸° íš¨ê³¼ë¡œ ì¶œë ¥
   character.addEventListener("click", () => {
      if (index < messages.length) {
        typeLine(messages[index], () => {
          index++;

          // ë§ˆì§€ë§‰ ë¬¸ì¥ê¹Œì§€ ì¶œë ¥ ì™„ë£Œí•˜ë©´ ìŠ¤ìœ„ì¹˜ í™œì„±í™”
          if (index === messages.length) {
            switchUnlocked = true;

            switchBtn.style.opacity = "1";      // ë°ê²Œ
            switchBtn.style.cursor = "pointer"; // í´ë¦­ ê°€ëŠ¥ ì»¤ì„œ
            switchBtn.style.pointerEvents = "auto"; // í´ë¦­ í™œì„±í™”
          }
        });
      }
    });

    // ìŠ¤ìœ„ì¹˜ í´ë¦­ ì‹œ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™
     switchBtn.addEventListener("click", () => {
      if (!switchUnlocked) return;  // ğŸ”’ ì•„ì§ ì ê²¨ ìˆìœ¼ë©´ ë¬´ì‹œ

      window.location.href = "next.html";
    });
  </script>

</body>
</html>

